<core:FragmentDefinition xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form">
    <VBox>
        <IconTabBar items="{order>/order/phases}" expandable="false" select="onPhaseSelect" class="sapUiResponsivePadding--header sapUiResponsivePadding--content">
            <items>
                <IconTabFilter text="{order>description}" key="{order>phaseId}">
                    <Table items="{order>operations}">
                        <columns>
                            <Column width="12em">
                                <Text text="{i18n>OperationTable.OperationNumber}" />
                            </Column>
                            <Column width="12em">
                                <Text text="{i18n>OperationTable.WorkCenter}" />
                            </Column>
                            <Column minScreenWidth="Tablet" demandPopin="true">
                                <Text text="{i18n>OperationTable.Decription}" />
                            </Column>
                            <Column minScreenWidth="Tablet" demandPopin="true">
                                <Text text="{i18n>OperationTable.Executor}" />
                            </Column>
                            <Column minScreenWidth="Tablet" demandPopin="true">
                                <Text text="{i18n>OperationTable.DateTimeConfirmation}" />
                            </Column>
                            <Column width="6%" />
                            <Column width="6%" />
                            <Column width="6%" />
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{order>operationNumber}" />
                                    <Text text="{order>workCenter}" />
                                    <Text text="{order>description}" />
                                    <VBox items="{path:'order>confirmations', templateShareable:false}">
                                        <Text text="{order>firstName} {order>lastName}" />
                                    </VBox>
                                    <VBox items="{path:'order>confirmations', templateShareable:false}">
                                        <Text text="{path:'order>startDate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy', UTC: true } }"/>
                                    </VBox>
                                    <ToggleButton text="{i18n>OperationTable.OK}" type="Accept" enabled="{viewModel>/edit}" press="onOkPress" width="100%" />
                                    <ToggleButton text="{i18n>OperationTable.NOK}" type="Reject" enabled="{viewModel>/edit}" press="onNokPress" width="100%" />
                                    <ToggleButton text="{i18n>OperationTable.NVT}" press="onNvtPress" enabled="{viewModel>/edit}" width="100%" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </IconTabFilter>
            </items>
        </IconTabBar>
    </VBox>
</core:FragmentDefinition>